(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14c51df6"],{"13fb":function(t,a,e){},4742:function(t,a,e){"use strict";var o=e("13fb"),n=e.n(o);n.a},7320:function(t,a,e){"use strict";e.d(a,"b",function(){return n}),e.d(a,"a",function(){return s});var o=e("6b6c"),n=function(t){return o["a"].request({url:"/reportGuest/getReport.action",method:"post",data:t})},s=function(t){return o["a"].request({url:"/reportGuest/getGuestInfoReport.action",method:"post",data:t})}},d79c:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Form",{attrs:{model:t.paramDto,"label-width":80,inline:""}},[e("FormItem",{attrs:{label:"项目"}},[e("Select",{staticClass:"my-input",attrs:{placeholder:"",clearable:""},model:{value:t.paramDto.projectCode,callback:function(a){t.$set(t.paramDto,"projectCode",a)},expression:"paramDto.projectCode"}},t._l(t.$store.state.user.projectList,function(t){return e("Option",{key:t.bid,attrs:{label:t.projectName,value:t.bid}})}))],1),e("FormItem",{attrs:{label:"入住日期"}},[e("DatePicker",{staticClass:"my-input",attrs:{type:"daterange","split-panels":"",placeholder:"",clearable:""},model:{value:t.paramDto.date,callback:function(a){t.$set(t.paramDto,"date",a)},expression:"paramDto.date"}})],1),e("FormItem",[e("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.getReport}},[t._v(" 查 询")])],1)],1),e("div",{staticClass:"full-top"},[t.loading?e("Spin",{staticClass:"full-spin",attrs:{size:"large",fix:""}}):t._e(),e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:12}},[e("Card",{attrs:{"dis-hover":""}},[e("chart-pie",{staticClass:"my-chart",attrs:{value:t.channelData,text:"获知渠道",subtext:t.channelSubtext}})],1)],1),e("Col",{attrs:{span:12}},[e("Card",{attrs:{"dis-hover":""}},[e("chart-pie",{staticClass:"my-chart",attrs:{value:t.purposeData,text:"出行目的",subtext:t.purposeSubtext}})],1)],1)],1),e("Row",{staticClass:"my-row",attrs:{gutter:20}},[e("Col",{attrs:{span:12}},[e("Card",{attrs:{"dis-hover":""}},[e("chart-pie",{staticClass:"my-chart",attrs:{value:t.impressData,text:"印象深刻",subtext:t.impressSubtext}})],1)],1),e("Col",{attrs:{span:12}},[e("Card",{attrs:{"dis-hover":""}},[e("chart-pie",{staticClass:"my-chart",attrs:{value:t.ageData,text:"年龄分层",subtext:t.ageSubtext}})],1)],1)],1)],1)],1)},n=[],s=(e("ac6a"),e("c9ae")),r=e("7320"),c=e("90de"),u={name:"guestAnalysis",components:{ChartPie:s["b"]},data:function(){return{paramDto:{projectCode:"",cityCode:"",date:[],startDate:"",endDate:""},loading:!1,channelData:[],channelSubtext:"",purposeData:[],purposeSubtext:"",impressData:[],impressSubtext:"",ageData:[],ageSubtext:""}},methods:{getReport:function(){var t=this;this.loading=!0,Object(r["b"])(this.paramDto).then(function(a){t.checkInCount=a.body.checkInCount,t.channelData=a.body.channelData,t.channelSubtext="参评/入住: ".concat(a.body.channelCount,"/").concat(a.body.checkInCount),t.purposeData=a.body.purposeData,t.purposeSubtext="参评/入住: ".concat(a.body.purposeCount,"/").concat(a.body.checkInCount),t.impressData=a.body.areaData,t.impressSubtext="参评/入住: ".concat(a.body.areaCount,"/").concat(a.body.checkInCount),t.ageData=a.body.ageData,t.ageSubtext="参评/入住: ".concat(a.body.ageCount,"/").concat(a.body.checkInCount),t.dataFormat(),t.loading=!1}).catch(function(){t.loading=!1})},dataFormat:function(){var t=this;this.channelData.forEach(function(a){t.$set(a,"value",a.count),t.$delete(a,"code"),t.$delete(a,"count")}),this.purposeData.forEach(function(a){t.$set(a,"value",a.count),t.$delete(a,"code"),t.$delete(a,"count")}),this.impressData.forEach(function(a){t.$set(a,"value",a.count),t.$delete(a,"code"),t.$delete(a,"count")}),this.ageData.forEach(function(a){t.$set(a,"value",a.count),t.$delete(a,"code"),t.$delete(a,"count")})}},watch:{"paramDto.data":function(t){this.paramDto.startDate=t[0]?Object(c["d"])(t[0],"date"):"",this.paramDto.endDate=t[1]?Object(c["d"])(t[1],"date"):""}},created:function(){this.getReport()}},i=u,l=(e("4742"),e("2877")),d=Object(l["a"])(i,o,n,!1,null,"6d398340",null);d.options.__file="guestAnalysis.vue";a["default"]=d.exports}}]);