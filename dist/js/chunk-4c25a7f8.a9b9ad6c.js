(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c25a7f8"],{"361e":function(t,e,a){},7320:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"a",function(){return r});a("cadf"),a("551c"),a("097d");var o=a("6b6c"),n=function(t){return o["a"].request({url:"/reportGuest/getReport.action",method:"post",data:t})},r=function(t){return o["a"].request({url:"/reportGuest/getGuestInfoReport.action",method:"post",data:t})}},d79c:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{model:t.paramDto,"label-width":80,inline:""},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getReport(e):null}}},[a("FormItem",{attrs:{label:"项目"}},[a("Select",{staticClass:"my-input",attrs:{placeholder:"",clearable:""},model:{value:t.paramDto.projectCode,callback:function(e){t.$set(t.paramDto,"projectCode",e)},expression:"paramDto.projectCode"}},t._l(t.$store.state.user.projectList,function(t){return a("Option",{key:t.bid,attrs:{label:t.projectName,value:t.bid}})}))],1),a("FormItem",{attrs:{label:"入住日期"}},[a("DatePicker",{staticClass:"my-input",attrs:{type:"daterange","split-panels":"",placeholder:"",clearable:""},model:{value:t.paramDto.date,callback:function(e){t.$set(t.paramDto,"date",e)},expression:"paramDto.date"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.getReport}},[t._v(" 查 询")])],1)],1),a("div",{staticClass:"full-top"},[t.loading?a("Spin",{staticClass:"full-spin",attrs:{size:"large",fix:""}}):t._e(),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:12}},[a("Card",{attrs:{"dis-hover":""}},[a("chart-pie",{staticClass:"my-chart",attrs:{value:t.channelData,text:"获知渠道",subtext:t.channelSubtext}})],1)],1),a("Col",{attrs:{span:12}},[a("Card",{attrs:{"dis-hover":""}},[a("chart-pie",{staticClass:"my-chart",attrs:{value:t.purposeData,text:"出行目的",subtext:t.purposeSubtext}})],1)],1)],1),a("Row",{staticClass:"my-row",attrs:{gutter:20}},[a("Col",{attrs:{span:12}},[a("Card",{attrs:{"dis-hover":""}},[a("chart-pie",{staticClass:"my-chart",attrs:{value:t.impressData,text:"印象深刻",subtext:t.impressSubtext}})],1)],1),a("Col",{attrs:{span:12}},[a("Card",{attrs:{"dis-hover":""}},[a("chart-pie",{staticClass:"my-chart",attrs:{value:t.ageData,text:"年龄分层",subtext:t.ageSubtext}})],1)],1)],1)],1)],1)},n=[],r=(a("ac6a"),a("c9ae")),s=a("7320"),c=a("90de"),u={name:"guestAnalysis",components:{ChartPie:r["b"]},data:function(){return{paramDto:{projectCode:"",cityCode:"",date:[],startDate:"",endDate:""},loading:!1,channelData:[],channelSubtext:"",purposeData:[],purposeSubtext:"",impressData:[],impressSubtext:"",ageData:[],ageSubtext:""}},methods:{getReport:function(){var t=this;this.loading=!0,Object(s["b"])(this.paramDto).then(function(e){t.checkInCount=e.body.checkInCount,t.channelData=e.body.channelData,t.channelSubtext="参评/入住: ".concat(e.body.channelCount,"/").concat(e.body.checkInCount),t.purposeData=e.body.purposeData,t.purposeSubtext="参评/入住: ".concat(e.body.purposeCount,"/").concat(e.body.checkInCount),t.impressData=e.body.areaData,t.impressSubtext="参评/入住: ".concat(e.body.areaCount,"/").concat(e.body.checkInCount),t.ageData=e.body.ageData,t.ageSubtext="参评/入住: ".concat(e.body.ageCount,"/").concat(e.body.checkInCount),t.dataFormat(),t.loading=!1}).catch(function(){t.loading=!1})},dataFormat:function(){var t=this;this.channelData.forEach(function(e){t.$set(e,"value",e.count),t.$delete(e,"code"),t.$delete(e,"count")}),this.purposeData.forEach(function(e){t.$set(e,"value",e.count),t.$delete(e,"code"),t.$delete(e,"count")}),this.impressData.forEach(function(e){t.$set(e,"value",e.count),t.$delete(e,"code"),t.$delete(e,"count")}),this.ageData.forEach(function(e){t.$set(e,"value",e.count),t.$delete(e,"code"),t.$delete(e,"count")})}},watch:{"paramDto.data":function(t){this.paramDto.startDate=t[0]?Object(c["f"])(t[0],"date"):"",this.paramDto.endDate=t[1]?Object(c["f"])(t[1],"date"):""}},created:function(){this.getReport()}},i=u,l=(a("e980"),a("2877")),p=Object(l["a"])(i,o,n,!1,null,"32a2f369",null);p.options.__file="guestAnalysis.vue";e["default"]=p.exports},e980:function(t,e,a){"use strict";var o=a("361e"),n=a.n(o);n.a}}]);