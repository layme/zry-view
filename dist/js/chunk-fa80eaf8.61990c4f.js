(window['webpackJsonp'] = window['webpackJsonp'] || []).push([['chunk-fa80eaf8'], { '192b': function (t, e, i) {}, '219a': function (t, e, i) {}, '2f50': function (t, e, i) { 'use strict'; var a = i('336a'), n = i.n(a); n.a }, '336a': function (t, e, i) {}, '345b': function (t, e, i) { 'use strict'; i.r(e); var a = function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('div', [i('search-list', { on: { search: t.listProjectConfig } }), i('img-config', { attrs: { n: t.imgConfigN, fid: t.fid } }), i('market-label', { attrs: { n: t.marketLabelN, fid: t.fid } }), i('service-config', { attrs: { n: t.serviceCofigN, fid: t.projectFid } }), i('share-link', { attrs: { n: t.shareLinkN, fid: t.fid } }), i('vr-show', { attrs: { n: t.vrShowN, fid: t.fid } }), i('house-type-config', { attrs: { n: t.houseTypeN, projectFid: t.projectFid } }), i('Table', { staticClass: 'my-table', attrs: { stripe: '', columns: t.columns, data: t.data, loading: t.loading }, scopedSlots: t._u([{ key: 'picConfig', fn: function (e) { var a = e.row; return [i('a', { staticClass: 'my-btn', on: { click: function (e) { t.configPic(a) } } }, [t._v('配置')])] } }, { key: 'marketConfig', fn: function (e) { var a = e.row; return [i('a', { staticClass: 'my-btn', on: { click: function (e) { t.marketLabelConfig(a) } } }, [t._v('配置')])] } }, { key: 'serviceConfig', fn: function (e) { var a = e.row; return [i('a', { staticClass: 'my-btn', on: { click: function (e) { t.serviceCofig(a) } } }, [t._v('配置')])] } }, { key: 'projectVRUrl', fn: function (e) { var a = e.row; return [i('a', { staticClass: 'my-btn', on: { click: function (e) { t.vrShow(a) } } }, [t._v('配置')])] } }, { key: 'projectShareUrl', fn: function (e) { var a = e.row; return [i('a', { staticClass: 'my-btn', on: { click: function (e) { t.shareLink(a) } } }, [t._v('配置')])] } }, { key: 'houseType', fn: function (e) { var a = e.row; return [i('a', { staticClass: 'my-btn', on: { click: function (e) { t.houseType(a) } } }, [t._v('配置')])] } }]) }), i('Page', { staticClass: 'my-page', attrs: { total: t.total, 'show-total': '', current: t.paramDto.page, 'page-size': t.paramDto.limit }, on: { 'update:current': function (e) { t.$set(t.paramDto, 'page', e) }, 'on-change': t.getpageList } })], 1) }, n = [], o = (i('f751'), function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('Form', { attrs: { model: t.searchData, 'label-width': 70 } }, [i('Row', { attrs: { gutter: 20 } }, [i('Col', { attrs: { span: '8' } }, [i('FormItem', { attrs: { label: '项目名称' } }, [i('Input', { attrs: { placeholder: '', clearable: '' }, nativeOn: { keyup: function (e) { return 'button' in e || !t._k(e.keyCode, 'enter', 13, e.key, 'Enter') ? t.submit(e) : null } }, model: { value: t.searchData.projectName, callback: function (e) { t.$set(t.searchData, 'projectName', typeof e === 'string' ? e.trim() : e) }, expression: 'searchData.projectName' } })], 1)], 1)], 1), i('Row', { attrs: { gutter: 20 } }, [i('Col', { attrs: { span: '12' } }, [i('Button', { attrs: { type: 'primary', icon: 'ios-search' }, on: { click: t.submit } }, [t._v(' 查 询')])], 1)], 1)], 1) }), s = [], r = { data: function () { return { searchData: { projectName: '' } } }, methods: { submit: function () { this.$emit('search', this.searchData) } } }, l = r, c = (i('2f50'), i('2877')), d = Object(c['a'])(l, o, s, !1, null, '15c2b2aa', null); d.options.__file = 'searchList.vue'; var u = d.exports, h = function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('div', [i('Modal', { attrs: { loading: t.loading, 'mask-closable': !1 }, on: { 'on-ok': t.ok }, model: { value: t.isShow, callback: function (e) { t.isShow = e }, expression: 'isShow' } }, [i('h3', { staticClass: 'modal-header', attrs: { slot: 'header' }, slot: 'header' }, [t._v('图片配置')]), i('Row', { staticClass: 'row' }, [i('Col', { attrs: { span: '4' } }, [i('span', { staticStyle: { color: '#ed4014' } }, [t._v('*')]), t._v('排序')]), i('Col', { attrs: { span: '13' } }, [i('span', { staticStyle: { color: '#ed4014' } }, [t._v('*')]), t._v('标签文本')]), i('Col', { attrs: { span: '3' } }, [t._v('标签图片')]), i('Col', { attrs: { span: '4' } }, [t._v('操作')])], 1), t._l(t.data, function (e, a) { return i('Row', { key: e.fid, staticClass: 'row' }, [i('Col', { attrs: { span: '4' } }, [i('InputNumber', { attrs: { min: 1, precision: 0.1 }, model: { value: e.labelOrder, callback: function (i) { t.$set(e, 'labelOrder', i) }, expression: 'item.labelOrder' } })], 1), i('Col', { attrs: { span: '13' } }, [i('Input', { staticClass: 'width85', attrs: { maxlength: 10 }, model: { value: e.labelName, callback: function (i) { t.$set(e, 'labelName', i) }, expression: 'item.labelName' } })], 1), i('Col', { attrs: { span: '3' } }, [i('a', { on: { click: function (i) { i.stopPropagation(), t.uploadImg(e) } } }, [t._v('配置')])]), i('Col', { attrs: { span: '4' } }, [i('a', { on: { click: function (i) { i.stopPropagation(), t.deleteItem(e, a) } } }, [t._v('删除')])])], 1) }), i('div', { staticClass: 'mt20' }, [i('a', { on: { click: function (e) { return e.stopPropagation(), t.addItem(e) } } }, [t._v('+ 添加')])]), i('img-upload', { attrs: { n: t.uploadN, fid: t.labelFid, labelOrder: t.labelOrder, pics: t.pics }, on: { pic: t.pic } })], 2)], 1) }, f = [], p = (i('6b54'), i('5df3'), i('4f7f'), i('ac6a'), i('c5f6'), function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('div', [i('Modal', { attrs: { loading: t.loading, 'mask-closable': !1, 'class-name': t.z100000 }, on: { 'on-ok': t.ok }, model: { value: t.isShow, callback: function (e) { t.isShow = e }, expression: 'isShow' } }, [i('h3', { staticClass: 'modal-header', attrs: { slot: 'header' }, slot: 'header' }, [t._v('图片上传')]), i('div', { staticStyle: { display: 'flex', 'flex-wrap': 'wrap' } }, [t._l(t.data, function (e, a) { return t.data ? [i('div', { key: e.bid, staticClass: 'fileItem' }, [i('div', { staticStyle: { 'margin-bottom': '10px' } }, [i('img', { staticClass: 'file-img', attrs: { src: e.attachmentImgUrl, alt: '' } }), a != 0 ? i('a', { staticStyle: { 'vertical-align': 'bottom' }, attrs: { href: 'javascript:;' }, on: { click: function (e) { t.setFirst(a) } } }, [t._v('设为首图')]) : t._e(), i('a', { staticStyle: { 'vertical-align': 'bottom' }, attrs: { href: 'javascript:;' }, on: { click: function (i) { t.deleteItem(e) } } }, [t._v('删除')])])])] : t._e() }), i('div', { staticClass: 'fileItem' }, [i('Upload', { staticClass: 'upload', attrs: { action: t.uploadPicUrl, 'on-success': t.handleSuccess, headers: { Authorization: t.$store.state.user.token }, 'show-upload-list': !1, 'on-error': t.handleError, format: ['jpg', 'jpeg', 'png'], 'on-format-error': t.formatError } }, [i('Icon', { staticStyle: { 'vertical-align': 'middle' }, attrs: { type: 'ios-add', size: '80' } })], 1)], 1)], 2)])], 1) }), g = [], m = i('6b6c'), v = function (t) { return m['a'].request({ url: '/labelConfig/list', method: 'get', params: t }) }, b = function (t) { return m['a'].request({ url: '/labelConfig/remove', method: 'get', params: t }) }, w = function (t) { return m['a'].request({ url: '/labelConfig/getConfigImg', method: 'get', params: t }) }, k = function (t) { return m['a'].request({ url: '/labelConfig/editConfigImg', method: 'post', data: t }) }, y = function (t) { return m['a'].request({ url: '/projectConfig/projectConfigList', method: 'get', params: t }) }, C = function (t) { return m['a'].request({ url: '/labelConfig/edit', method: 'post', data: t }) }, S = function (t) { return m['a'].request({ url: '/projectConfig/selectProjectFacilities', method: 'get', params: t }) }, _ = function (t) { return m['a'].request({ url: '/projectConfig/saveProjectFacilities', method: 'post', data: t }) }, j = function (t) { return m['a'].request({ url: '/projectConfig/getProjectConfigInfo', method: 'post', params: t }) }, L = function (t) { return m['a'].request({ url: '/projectConfig/updateProjectConfigInfo', method: 'post', data: t }) }, N = function (t) { return m['a'].request({ url: '/houseTypeConfig/getHouseTypeConfigList', method: 'get', params: t }) }, U = { name: 'ImgUpload', props: { n: { type: Number, default: 0 }, fid: { type: String, default: '' }, labelOrder: { type: Number, default: 0 }, pics: { type: Array, default: function () { return [] } } }, watch: { n: function () { this.data = [], this.pics.length > 0 && (this.data = this.pics), this.labelgetConfigImg(), this.isShow = !0 } }, data: function () { return { isShow: !1, data: [], loading: !0, z100000: 'z100000', uploadPicUrl: this.$store.state.app.baseUrl + '/system/upLoadImg.action' } }, methods: { formatError: function () { this.$Message.info('请上传图片类型文件') }, handleError: function (t, e, i) { this.$Message.error('图片上传失败'), console.info(t) }, handleSuccess: function (t) { var e = { attachmentImgUrl: t.body.attachmentImgUrl, moduleFid: this.fid, order: this.labelOrder }; this.data.push(e) }, changeLoading: function () { var t = this; this.loading = !1, this.$nextTick(function () { t.loading = !0 }) }, setFirst: function (t) { var e = this.data.splice(t, 1); this.data.unshift(e[0]) }, deleteItem: function (t) { this.data = this.data.filter(function (e) { return e.attachmentImgUrl !== t.attachmentImgUrl }) }, labelgetConfigImg: function () { var t = this; if (this.fid) { var e = { fid: this.fid }; w(e).then(function (e) { t.data = e.body }).catch(function (t) { return console.info(t) }) } }, ok: function () { var t = this; if (this.data.forEach(function (t, e) { t['attachmentOrder'] = e, e === 0 && (t['isDefault'] = 1) }), !this.fid) return this.$emit('pic', this.data), void (this.isShow = !1); k(this.data).then(function (e) { t.$Message.success('图片配置成功'), t.changeLoading(), t.isShow = !1 }).catch(function () { t.changeLoading() }) } }, created: function () {} }, I = U, x = (i('53b3'), Object(c['a'])(I, p, g, !1, null, '054dfd0b', null)); x.options.__file = 'imgUpload.vue'; var $ = x.exports, O = i('90de'), T = { name: 'ImgConfig', components: { ImgUpload: $ }, props: { n: { type: Number, default: 0 }, fid: { type: String, default: '' } }, watch: { n: function () { this.data = [], this.labellist(), this.isShow = !0 } }, data: function () { return { uploadN: 0, isShow: !1, data: [], loading: !0, labelOrder: 0, labelFid: '', pics: [] } }, methods: { changeLoading: function () { var t = this; this.loading = !1, this.$nextTick(function () { t.loading = !0 }) }, ok: function () { var t = this, e = [], i = !1; if (this.data.length === 0) return this.isShow = !1, void this.changeLoading(); if (this.data.forEach(function (t) { t.labelName && t.labelOrder ? e.push(t.labelOrder + '') : i = !0 }), i) return this.$Message.info('排序或标签名不能为空'), void this.changeLoading(); var a = new Set(e); if (e.length !== a.size) return this.$Message.info('排序不能重复'), void this.changeLoading(); var n = { moduleFid: this.fid, labelEntities: this.data }; C(n).then(function (e) { t.$Message.success('标签保存成功'), t.changeLoading(), t.isShow = !1 }).catch(function () { t.changeLoading() }) }, uploadImg: function (t) { this.pics = []; var e = t.labelOrder; if (e) { var i = this.data.filter(function (t) { return t.labelOrder === e }); i && i.length > 1 ? this.$Message.info('排序字段不能重复') : (t.picUrl && (this.pics = t.picUrl), this.labelFid = t.bid, this.labelOrder = e, this.uploadN++) } else this.$Message.info('请先添加排序') }, deleteItem: function (t, e) { var i = this; this.$Modal.confirm({ content: '<p>确认删除？</p>', onOk: function () { if (t.bid) { var a = { fid: t.bid }; b(a).then(function (t) { i.$Message.success('删除成功'), i.labellist() }) } else i.data.splice(e, 1) } }) }, addItem: function () { var t = 1; this.data.length > 0 && (t = this.data[this.data.length - 1].labelOrder, t = (+t).toString() !== 'NaN' && Object(O['i'])('Number', +t) ? parseInt(t) + 1 : this.data.length + 1), this.data.push({ bid: '', labelOrder: t, labelName: '', picUrl: [], labelType: 0 }) }, labellist: function () { var t = this; if (this.fid) { var e = { moduleFid: this.fid, type: 0 }; v(e).then(function (e) { t.data = e.body }) } }, pic: function (t) { if (!(t.length < 1)) { this.pics = []; var e = t[0].order, i = this.data.filter(function (t) { return t.labelOrder === e }); i[0].picUrl = [], t.forEach(function (t) { i[0].picUrl.push(t) }) } } } }, F = T, M = (i('57d7'), Object(c['a'])(F, h, f, !1, null, '53f91092', null)); M.options.__file = 'imgConfig.vue'; var P = M.exports, E = function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('div', [i('Modal', { attrs: { loading: t.loading, 'mask-closable': !1 }, on: { 'on-ok': t.ok }, model: { value: t.isShow, callback: function (e) { t.isShow = e }, expression: 'isShow' } }, [i('h3', { staticClass: 'modal-header', attrs: { slot: 'header' }, slot: 'header' }, [t._v('营销标签')]), i('Row', { staticClass: 'row' }, [i('Col', { attrs: { span: '5' } }, [i('span', { staticStyle: { color: '#ed4014' } }, [t._v('*')]), t._v('排序')]), i('Col', { attrs: { span: '14' } }, [i('span', { staticStyle: { color: '#ed4014' } }, [t._v('*')]), t._v('标签文本')]), i('Col', { attrs: { span: '5' } }, [t._v('操作')])], 1), t._l(t.data, function (e, a) { return i('Row', { key: e.fid, staticClass: 'row' }, [i('Col', { attrs: { span: '5' } }, [i('InputNumber', { attrs: { min: 1, precision: 0.1 }, model: { value: e.labelOrder, callback: function (i) { t.$set(e, 'labelOrder', i) }, expression: 'item.labelOrder' } })], 1), i('Col', { attrs: { span: '14' } }, [i('Input', { staticClass: 'width85', attrs: { maxlength: 10 }, model: { value: e.labelName, callback: function (i) { t.$set(e, 'labelName', i) }, expression: 'item.labelName' } })], 1), i('Col', { attrs: { span: '5' } }, [i('a', { on: { click: function (i) { i.stopPropagation(), t.deleteItem(e, a) } } }, [t._v('删除')])])], 1) }), i('div', { staticClass: 'mt20' }, [i('a', { on: { click: function (e) { return e.stopPropagation(), t.addItem(e) } } }, [t._v('+ 添加')])])], 2)], 1) }, R = [], D = { name: 'marketLabel', components: {}, props: { n: { type: Number, default: 0 }, fid: { type: String, default: '' } }, watch: { n: function () { this.data = [], this.labellist(), this.isShow = !0 } }, data: function () { return { isShow: !1, data: [], loading: !0, labelOrder: 0 } }, methods: { changeLoading: function () { var t = this; this.loading = !1, this.$nextTick(function () { t.loading = !0 }) }, ok: function () { var t = this, e = [], i = !1; if (this.data.length === 0) return this.isShow = !1, void this.changeLoading(); if (this.data.forEach(function (t) { t.labelName && t.labelOrder ? e.push(t.labelOrder + '') : i = !0 }), i) return this.$Message.info('排序或标签名不能为空'), void this.changeLoading(); var a = new Set(e); if (e.length !== a.size) return this.$Message.info('排序不能重复'), void this.changeLoading(); var n = { moduleFid: this.fid, labelEntities: this.data }; C(n).then(function (e) { t.changeLoading(), t.labellist(), t.$Message.success('标签保存成功') }).catch(function () { t.changeLoading() }) }, deleteItem: function (t, e) { var i = this; this.$Modal.confirm({ content: '<p>确认删除？</p>', onOk: function () { if (t.bid) { var a = { fid: t.bid }; b(a).then(function (t) { i.$Message.success('删除成功'), i.labellist() }) } else i.data.splice(e, 1) } }) }, addItem: function () { var t = 1; this.data.length > 0 && (t = this.data[this.data.length - 1].labelOrder, t = (+t).toString() !== 'NaN' && Object(O['i'])('Number', +t) ? parseInt(t) + 1 : this.data.length + 1), this.data.push({ bid: '', labelOrder: t, labelName: '', labelType: 1 }) }, labellist: function () { var t = this; if (this.fid) { var e = { moduleFid: this.fid, type: 1 }; v(e).then(function (e) { t.data = e.body }) } } }, created: function () {} }, z = D, V = (i('4224'), Object(c['a'])(z, E, R, !1, null, '92327af4', null)); V.options.__file = 'marketLabel.vue'; var q = V.exports, B = function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('div', [i('Modal', { attrs: { loading: t.loading, 'mask-closable': !1 }, on: { 'on-ok': t.ok }, model: { value: t.isShow, callback: function (e) { t.isShow = e }, expression: 'isShow' } }, [i('h3', { staticClass: 'modal-header', attrs: { slot: 'header' }, slot: 'header' }, [t._v('服务配置')]), t._l(t.data, function (e) { return i('div', { key: e.facilitiesTypeCode, staticClass: 'mb16' }, [i('div', { staticClass: 'left' }, [t._v(t._s(e.facilitiesTypeName) + '：')]), i('div', { staticClass: 'right' }, t._l(e.facilitiesVoList, function (e) { return i('Checkbox', { key: e.facilitiesTypeCode, staticClass: 'item', model: { value: e.isSelected, callback: function (i) { t.$set(e, 'isSelected', i) }, expression: 'item1.isSelected' } }, [t._v(t._s(e.facilitiesName))]) }))]) })], 2)], 1) }, H = [], A = { name: 'serviceConfig', props: { n: { type: Number, default: 0 }, fid: { type: String, default: '' } }, watch: { n: function () { this.data = [], this.selectProjectFacilities(), this.isShow = !0 } }, data: function () { return { isShow: !1, data: [], loading: !0 } }, methods: { changeLoading: function () { var t = this; this.loading = !1, this.$nextTick(function () { t.loading = !0 }) }, ok: function () { var t = this, e = []; this.data.forEach(function (t) { t.facilitiesVoList.forEach(function (i) { i['facilitiesTypeCode'] = t.facilitiesTypeCode, i.isSelected && e.push(i) }) }); var i = { moduleFid: this.fid, facilitiesTypeDtoList: e }; _(i).then(function (e) { t.$Message.success('配置成功'), t.isShow = !1 }) }, selectProjectFacilities: function () { var t = this; if (this.fid) { var e = { projectBid: this.fid }; S(e).then(function (e) { t.data = e.body }).catch(function (t) { return console.info(t) }) } } } }, J = A, G = (i('702e'), Object(c['a'])(J, B, H, !1, null, '53edc174', null)); G.options.__file = 'serviceConfig.vue'; var K = G.exports, Q = function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('div', [i('Modal', { attrs: { loading: t.loading, 'mask-closable': !1 }, on: { 'on-ok': t.ok }, model: { value: t.isShow, callback: function (e) { t.isShow = e }, expression: 'isShow' } }, [i('h3', { staticClass: 'modal-header', attrs: { slot: 'header' }, slot: 'header' }, [t._v('VR看房')]), i('Input', { directives: [{ name: 'show', rawName: 'v-show', value: !1, expression: 'false' }], attrs: { placeholder: '', clearable: '' }, model: { value: t.imgUrl, callback: function (e) { t.imgUrl = e }, expression: 'imgUrl' } }), t._l(t.uploadList, function (e, a) { return i('div', { key: a, staticClass: 'demo-upload-list' }, [e.status === 'finished' ? [i('img', { attrs: { src: e.response ? e.response.body.attachmentImgUrl : e.url } }), i('div', { staticClass: 'demo-upload-list-cover' }, [i('Icon', { attrs: { type: 'ios-eye-outline' }, nativeOn: { click: function (i) { t.handleView(e.name) } } }), i('Icon', { attrs: { type: 'ios-trash-outline' }, nativeOn: { click: function (i) { t.handleRemove(e) } } })], 1)] : [e.showProgress ? i('Progress', { attrs: { percent: e.percentage, 'hide-info': '' } }) : t._e()]], 2) }), t.uploadList.length ? t._e() : i('Upload', { ref: 'upload', staticStyle: { display: 'inline-block', width: '46px' }, attrs: { accept: 'image/*', type: 'drag', headers: { Authorization: t.$store.state.user.token }, action: t.uploadPicUrl, 'show-upload-list': !1, 'on-success': t.handleSuccess, 'on-error': t.handleError, 'max-size': 200, 'on-exceeded-size': t.handleMaxSize } }, [i('div', { staticStyle: { width: '46px', 'line-height': '46px' } }, [i('Icon', { attrs: { type: 'ios-camera', size: '20' } })], 1)]), i('Modal', { attrs: { title: '' }, model: { value: t.visible, callback: function (e) { t.visible = e }, expression: 'visible' } }, [t.visible ? i('img', { staticStyle: { width: '100%' }, attrs: { src: t.imgUrl } }) : t._e()]), i('div', [i('Input', { attrs: { type: 'textarea', rows: 4, maxlength: 500 }, model: { value: t.vrLinkUrl, callback: function (e) { t.vrLinkUrl = e }, expression: 'vrLinkUrl' } }), t.vrLinkUrl ? t._e() : i('div', { staticStyle: { color: 'rgb(150,150,150)' } }, [t._v('温馨提示：请输入少于500个字符！！')])], 1)], 2)], 1) }, W = [], X = (i('b54a'), { name: 'HeadImg', props: { n: { type: Number, default: 0 }, fid: { type: String, default: '' } }, watch: { n: function () { this.imgUrl = '', this.imgBid = '', this.vrLinkUrl = '', this.uploadList = [], this.labellist(), this.isShow = !0 } }, data: function () { return { imgUrl: '', imgBid: '', vrLinkUrl: '', bid: '', uploadList: [], visible: !1, isShow: !1, loading: !0, uploadPicUrl: this.$store.state.app.baseUrl + '/system/upLoadImg.action' } }, methods: { changeLoading: function () { var t = this; this.loading = !1, this.$nextTick(function () { t.loading = !0 }) }, formatError: function () { this.$Message.info('请上传图片类型文件') }, handleView: function (t) { this.visible = !0 }, handleRemove: function (t) { if (this.$refs.upload) { var e = this.$refs.upload.fileList; this.$refs.upload.fileList.splice(e.indexOf(t), 1) } else this.uploadList.splice(0, 1); this.imgUrl = '' }, labellist: function () { var t = this; if (this.fid) { var e = { moduleFid: this.fid, type: 2 }; v(e).then(function (e) { var i = e.body[0]; if (i) { t.vrLinkUrl = i.link, t.bid = i.bid; var a = i.picUrl[0]; a && (t.imgUrl = a.attachmentImgUrl, t.imgBid = a.bid) } }) } }, ok: function () { var t = this, e = []; e.push({ bid: this.imgBid, attachmentImgUrl: this.imgUrl }); var i = []; i.push({ bid: this.bid, labelOrder: 1, labelName: 'VR', picUrl: e, labelType: 2 }); var a = { moduleFid: this.fid, labelEntities: i }; C(a).then(function (e) { t.$Message.success('VR看房保存成功'), t.changeLoading(), t.isShow = !1 }).catch(function () { t.changeLoading() }) }, handleError: function (t, e, i) { this.$Message.error('图片上传失败'), console.info(t) }, handleMaxSize: function (t) { this.$Message.warning('文件大小超过了限制') }, handleSuccess: function (t, e, i) { t.code !== 200 ? this.$Message.error(t.message) : (this.imgUrl = t.body.attachmentImgUrl, this.uploadList = this.$refs.upload.fileList) } }, created: function () {} }), Y = X, Z = (i('42e1'), Object(c['a'])(Y, Q, W, !1, null, '1aa20c8e', null)); Z.options.__file = 'vrShow.vue'; var tt = Z.exports, et = function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('div', [i('Modal', { attrs: { loading: t.loading, 'mask-closable': !1 }, on: { 'on-ok': t.ok }, model: { value: t.show, callback: function (e) { t.show = e }, expression: 'show' } }, [i('h3', { staticClass: 'modal-header', attrs: { slot: 'header' }, slot: 'header' }, [t._v('分享链接')]), i('div', [i('Input', { attrs: { type: 'textarea', rows: 4, maxlength: 500 }, model: { value: t.projectShareUrl, callback: function (e) { t.projectShareUrl = e }, expression: 'projectShareUrl' } }), t.projectShareUrl ? t._e() : i('div', { staticStyle: { color: 'rgb(150,150,150)' } }, [t._v('温馨提示：请输入少于500个字符！！')])], 1)])], 1) }, it = [], at = { name: 'shareLink', props: { n: { type: Number, default: 0 }, fid: { type: String, default: '' } }, watch: { n: function () { this.projectShareUrl = '', this.getProjectConfigInfo(), this.show = !0 } }, data: function () { return { show: !1, projectShareUrl: '', loading: !0 } }, methods: { changeLoading: function () { var t = this; this.loading = !1, this.$nextTick(function () { t.loading = !0 }) }, getProjectConfigInfo: function () { var t = this; if (this.fid) { var e = { fid: this.fid }; j(e).then(function (e) { t.projectShareUrl = e.body.projectShareUrl }) } }, ok: function () { var t = this, e = { bid: this.fid, projectShareUrl: this.projectShareUrl }; L(e).then(function (e) { t.$Message.success('分享链接配置成功'), t.changeLoading(), t.show = !1 }).catch(function () { t.changeLoading() }) } } }, nt = at, ot = (i('427d'), Object(c['a'])(nt, et, it, !1, null, '698c2efe', null)); ot.options.__file = 'shareLink.vue'; var st = ot.exports, rt = function () { var t = this, e = t.$createElement, i = t._self._c || e; return i('div', [i('Modal', { attrs: { 'mask-closable': !1 }, model: { value: t.isShow, callback: function (e) { t.isShow = e }, expression: 'isShow' } }, [i('h3', { staticClass: 'modal-header', attrs: { slot: 'header' }, slot: 'header' }, [t._v('房型配置')]), i('img-upload', { attrs: { n: t.uploadN, fid: t.fid } }), i('vr-show', { attrs: { n: t.vrShowN, fid: t.fid } }), i('Table', { staticClass: 'my-table', attrs: { stripe: '', columns: t.columns, data: t.data, loading: t.loading }, scopedSlots: t._u([{ key: 'picConfig', fn: function (e) { var a = e.row; return [i('a', { staticClass: 'my-btn', on: { click: function (e) { t.configPic(a) } } }, [t._v('配置')])] } }, { key: 'houseTypeVR', fn: function (e) { var a = e.row; return [i('a', { staticClass: 'my-btn', on: { click: function (e) { t.vrShow(a) } } }, [t._v('配置')])] } }]) })], 1)], 1) }, lt = [], ct = { name: 'HouseTypeConfig', components: { imgUpload: $, vrShow: tt }, props: { n: { type: Number, default: 0 }, projectFid: { type: String, default: '' } }, watch: { n: function () { this.getHouseTypeConfigList(), this.isShow = !0 } }, data: function () { return { loading: !1, uploadN: 0, vrShowN: 0, isShow: !1, fid: '', columns: [{ title: '房型', key: 'houseTypeName', tooltip: !0 }, { title: '房型图片', slot: 'picConfig' }, { title: 'VR看房', slot: 'houseTypeVR' }], data: [] } }, methods: { getHouseTypeConfigList: function () { var t = this; this.projectFid && (this.loading = !0, N({ projectBid: this.projectFid }).then(function (e) { e.body && (t.data = e.body, t.loading = !1) }).catch(function () { t.loading = !1 })) }, configPic: function (t) { this.uploadN++, this.fid = t.bid }, vrShow: function (t) { this.vrShowN++, this.fid = t.bid } }, created: function () {} }, dt = ct, ut = (i('5b8f'), Object(c['a'])(dt, rt, lt, !1, null, '3a7cbdf5', null)); ut.options.__file = 'houseTypeConfig.vue'; var ht = ut.exports, ft = { name: 'projectConfigIndex', components: { searchList: u, ImgConfig: P, marketLabel: q, serviceConfig: K, shareLink: st, vrShow: tt, houseTypeConfig: ht }, data: function () { return { loading: !1, imgConfigN: 0, marketLabelN: 0, serviceCofigN: 0, shareLinkN: 0, vrShowN: 0, houseTypeN: 0, projectFid: '', fid: '', shareLinUrl: '', paramDto: { page: 1, limit: 10 }, columns: [{ title: '项目名称', key: 'projectName', tooltip: !0 }, { title: '图片配置', slot: 'picConfig' }, { title: '营销标签', slot: 'marketConfig' }, { title: '服务配置', slot: 'serviceConfig' }, { title: 'VR看房', slot: 'projectVRUrl' }, { title: '分享链接', slot: 'projectShareUrl' }, { title: '房型内容', slot: 'houseType' }], data: [{ bid: '8a9093ad6a4aef21016a4d4d07aa000f', projectFid: '8a9093ad6a4aef21016a4d4d06cb000e', projectName: '北京建国门和平自如寓', projectPanoramicUrl: 'www.baidu.com', projectShareUrl: 'www.baidu.com' }, { bid: '8a9093ad6a0a7d7f016a0a7d7f760001', projectFid: '8a9093ad6a0a7d7f016a0a7d7f520000', projectName: '虾米测试下', projectPanoramicUrl: '', projectShareUrl: '' }, { bid: '8a908f0767ef44be0168195d2c7100d9', projectFid: '8a908f0767ef44be0168195d2c3600d8', projectName: '深圳龙华筑梦自如寓', projectPanoramicUrl: 'www.baidu.com', projectShareUrl: 'www.baidu.com' }], total: 0 } }, methods: { listProjectConfig: function (t) { Object.assign(this.paramDto, t), this.paramDto.page = 1, this.getpageList() }, getpageList: function () { var t = this; this.loading = !0, y(this.paramDto).then(function (e) { e.body && (t.data = e.body.rows, t.total = e.body.total, t.loading = !1) }).catch(function () { t.loading = !1 }) }, configPic: function (t) { this.imgConfigN++, this.fid = t.bid }, marketLabelConfig: function (t) { this.marketLabelN++, this.fid = t.bid }, serviceCofig: function (t) { this.serviceCofigN++, this.projectFid = t.projectBid }, shareLink: function (t) { this.shareLinkN++, this.fid = t.bid }, vrShow: function (t) { this.vrShowN++, this.fid = t.bid }, houseType: function (t) { this.houseTypeN++, this.projectFid = t.projectBid } }, created: function () { this.getpageList() } }, pt = ft, gt = (i('d2aa'), Object(c['a'])(pt, a, n, !1, null, 'a2912588', null)); gt.options.__file = 'projectConfigIndex.vue'; e['default'] = gt.exports }, '386b': function (t, e, i) { var a = i('5ca1'), n = i('79e5'), o = i('be13'), s = /"/g, r = function (t, e, i, a) { var n = String(o(t)), r = '<' + e; return i !== '' && (r += ' ' + i + '="' + String(a).replace(s, '&quot;') + '"'), r + '>' + n + '</' + e + '>' }; t.exports = function (t, e) { var i = {}; i[t] = e(r), a(a.P + a.F * n(function () { var e = ''[t]('"'); return e !== e.toLowerCase() || e.split('"').length > 3 }), 'String', i) } }, 4224: function (t, e, i) { 'use strict'; var a = i('bad2'), n = i.n(a); n.a }, '427d': function (t, e, i) { 'use strict'; var a = i('b3e9'), n = i.n(a); n.a }, '42e1': function (t, e, i) { 'use strict'; var a = i('8137'), n = i.n(a); n.a }, '46aa': function (t, e, i) {}, '53b3': function (t, e, i) { 'use strict'; var a = i('a4c0'), n = i.n(a); n.a }, '57d7': function (t, e, i) { 'use strict'; var a = i('8c9d'), n = i.n(a); n.a }, '5b8f': function (t, e, i) { 'use strict'; var a = i('192b'), n = i.n(a); n.a }, '702e': function (t, e, i) { 'use strict'; var a = i('46aa'), n = i.n(a); n.a }, 8137: function (t, e, i) {}, '8c9d': function (t, e, i) {}, a4c0: function (t, e, i) {}, b3e9: function (t, e, i) {}, b54a: function (t, e, i) { 'use strict'; i('386b')('link', function (t) { return function (e) { return t(this, 'a', 'href', e) } }) }, bad2: function (t, e, i) {}, d2aa: function (t, e, i) { 'use strict'; var a = i('219a'), n = i.n(a); n.a } }])
